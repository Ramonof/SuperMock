import{r,i as b,j as t,T as n,B as y,S as R,k as g}from"./a-Dk_0r4vP.js";import{P as v}from"./ProjectName-DQjFv7BZ.js";import{u as f,a as w,B as C,S as j,C as N}from"./request-CC8WlHP9.js";import{u as P}from"./useMutation-Dsb0rPTi.js";import{I as o,a as B}from"./index-DonvnBFi.js";const I=({ProjectId:s})=>{const[u,i]=r.useState(""),[c,m]=r.useState(""),[p,x]=r.useState(""),d=b(),S=f(),{mutate:l,isPending:h}=P({mutationKey:["createRestStub"],mutationFn:async e=>{e.preventDefault();try{const a=await w({url:C+"/projects/"+s+"/stub",method:"POST",data:JSON.stringify({name:u,path:c,response_body:p})});return i(""),m(""),x(""),d({to:"/project/$projectId/rest/stubs",params:{projectId:s}}),a}catch(a){throw new Error(a)}},onSuccess:()=>{S.invalidateQueries({queryKey:["getRestStubs"]})},onError:e=>{alert(e.message)}});return t.jsx("form",{onSubmit:l,children:t.jsxs(j,{gap:2,children:[t.jsx(n,{children:"Name"}),t.jsx(o,{type:"text",value:u,onChange:e=>i(e.target.value)}),t.jsx(n,{children:"Path"}),t.jsx(o,{type:"text",value:c,onChange:e=>m(e.target.value)}),t.jsx(n,{children:"Body"}),t.jsx(o,{type:"text",value:p,onChange:e=>x(e.target.value)}),t.jsx(y,{mx:2,type:"submit",_active:{transform:"scale(.97)"},children:h?t.jsx(R,{size:"xs"}):t.jsx(B,{size:30})})]})})};function z(){const{projectId:s}=g.useParams();return t.jsxs(j,{h:"100vh",children:[t.jsx(v,{ProjectId:s}),t.jsxs(N,{children:["create form",t.jsx(I,{ProjectId:s})]})]})}export{z as component};
