import{f as p,u as D,o as T,j as e,c as _,b as z,F as c,L as f,d as g,S as j,T as d,I as E}from"./a-Dk_0r4vP.js";import{S as b,u as F,B as l,b as I,a as $}from"./request-CC8WlHP9.js";import{u as m}from"./useMutation-Dsb0rPTi.js";import{M as q}from"./index-CNcgRtj3.js";import{L as y}from"./link-DCSJ5__Y.js";const S=p(function(s,n){const{borderLeftWidth:i,borderBottomWidth:r,borderTopWidth:o,borderRightWidth:a,borderWidth:h,borderStyle:w,borderColor:C,...v}=D("Divider",s),{className:W,orientation:x="horizontal",__css:k,...L}=T(s),R={vertical:{borderLeftWidth:i||a||h||"1px",height:"100%"},horizontal:{borderBottomWidth:r||o||h||"1px",width:"100%"}};return e.jsx(_.hr,{ref:n,"aria-orientation":x,...L,__css:{...v,border:"0",borderColor:C,borderStyle:w,...R[x],...k},className:z("chakra-divider",W)})});S.displayName="Divider";const u=p((t,s)=>e.jsx(b,{align:"center",...t,direction:"row",ref:s}));u.displayName="HStack";const A=({Project:t})=>{const s=F();m({mutationKey:["updateProject"],mutationFn:async()=>{if(t.completed)return alert("Project is already completed");try{const r=await fetch(l+`/projects/${t._id}`,{method:"PATCH"}),o=await r.json();if(!r.ok)throw new Error(o.error||"Something went wrong");return o}catch(r){console.log(r)}},onSuccess:()=>{s.invalidateQueries({queryKey:["projects"]})}});const{mutate:n,isPending:i}=m({mutationKey:["deleteProject"],mutationFn:async()=>{try{const r=await fetch(l+`/projects/${t._id}`,{method:"DELETE"}),o=await r.json();if(!r.ok)throw new Error(o.error||"Something went wrong");return o}catch(r){console.log(r)}},onSuccess:()=>{s.invalidateQueries({queryKey:["projects"]})}});return e.jsxs(c,{gap:2,alignItems:"center",children:[e.jsxs(c,{flex:1,alignItems:"center",border:"1px",borderColor:"gray.600",p:2,borderRadius:"lg",justifyContent:"space-between",children:[e.jsx(y,{as:f,to:`/project/${t.project_id}/rest/stubs/${t.id}`,color:t.completed?"green.200":"yellow.100",textDecoration:t.completed?"line-through":"none",variant:"underline",colorPalette:"teal",children:t.name})," "]}),e.jsx(c,{gap:2,alignItems:"center",children:e.jsxs(g,{color:"red.500",cursor:"pointer",onClick:()=>n(),children:[!i&&e.jsx(q,{size:25}),i&&e.jsx(j,{size:"sm"})]})})]})},M=({ProjectId:t,restStubs:s,setRestStubs:n})=>{const{data:i,isLoading:r}=I({queryKey:["projects"],queryFn:async()=>{try{const a=(await $({url:l+"/projects/"+t+"/stub",method:"get"})).data;return n(a),a||[]}catch(o){console.log(o)}}});return e.jsxs(e.Fragment,{children:[e.jsx(d,{fontSize:"4xl",textTransform:"uppercase",fontWeight:"bold",textAlign:"center",my:2,bgGradient:"linear(to-l, #0bf827ff, #4000ffff)",bgClip:"text"}),r&&e.jsx(c,{justifyContent:"center",my:4,children:e.jsx(j,{size:"xl"})}),e.jsx(b,{gap:3,children:s?.map(o=>e.jsx(A,{Project:o},o.id))})]})},G=({ProjectId:t})=>e.jsxs(e.Fragment,{children:[e.jsx(u,{spacing:"24px",justify:"center",children:e.jsx(d,{fontSize:"4xl",textTransform:"uppercase",fontWeight:"bold",textAlign:"center",my:2,bgGradient:"linear(to-l, #0bf827ff, #4000ffff)",bgClip:"text",children:"Stubs"})}),e.jsx(g,{maxW:"fit-content",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",border:"1px",borderColor:"gray.600",p:3,children:e.jsx(y,{as:f,to:`/project/${t}/rest/stubs/create`,color:"yellow.100",variant:"underline",colorPalette:"teal",children:e.jsxs(u,{children:[e.jsx(E,{}),e.jsx(d,{children:"Stub"})]})})}),e.jsx(S,{p:1,width:"50%"})]});export{u as H,M as R,G as S};
